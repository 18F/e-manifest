<div class="usa-width-one-whole">
  <h3>Submit new manifest</h3>

  <%= simple_form_for :manifest, url: manifests_path, method: :post do |form| %>
    <fieldset>
      <h3>Generator</h3>
      <%= form.simple_fields_for :generator do |generator| %>
        <%= generator.input :us_epa_id_number, label: 'U.S. EPA ID Number (1)' %>
        <%= generator.input :emergency_response_phone, label: 'Emergency Response Phone (3)' %>
        <%= generator.input :manifest_tracking_number, label: 'Manifest Tracking Number (4)', required: true %>
        <%= generator.input :name, label: 'Name (5)' %>
        <%= generator.simple_fields_for :signatory do |signature| %>
          <%= signature.input :name, label: 'Name of generator/offeror signatory (15)' %>
          <%= label_tag 'Date of signature (15)' %>
          <%= date_field_tag 'date', nil, name: "manifest[generator][signatory][date]"  %>
        <% end %>

        <div class="mailing-address">
          <h3>Mailing address</h3>
          <%= render partial: 'address', locals: { fields: 'mailing_address', object: generator, number: 5 } %>
        </div>

        <%= generator.input :phone_number, label: 'Phone number (5)' %>

        <%= generator.input :site_address_same_as_mailing, as: :radio_buttons, label: 'Site address same as mailing address', boolean_style: :inline %>

        <div class="site-address">
          <h3>Site address</h3>
          <%= render partial: 'address', locals: { fields: 'site_address', object: generator, number: 5 } %>
        </div>
      <% end %>

    </fieldset>

    <fieldset>
      <h3>Transporter 1</h3>
      <div class="transporter-1">
        <%= simple_fields_for :transporters do |transporter| %>
          <%= transporter.input :name, label: 'Company Name (6)' %>
          <%= transporter.input :us_epa_id_number, label: 'U.S. EPA ID Number (6)' %>
        <% end %>
      </div>

      <h3>Transporter 2</h3>
      <div class="transporter-2">
        <%= simple_fields_for :transporters do |transporter| %>
          <%= transporter.input :name, label: 'Company Name (6)' %>
          <%= transporter.input :us_epa_id_number, label: 'U.S. EPA ID Number (6)' %>
        <% end %>
      <div>
    </fieldset>

    <h3>Designated Facility</h3>
    <%= form.simple_fields_for :designated_facility do |facility| %>
      <%= facility.input :name, label: 'Name (8)' %>
      <%= render partial: 'address', locals: { fields: 'address', object: facility, number: 8 } %>
      <%= facility.input :phone_number, label: 'Phone number (8)' %>
      <%= facility.input :us_epa_id_number, label: 'U.S. EPA ID Number (8)' %>
    <% end %>

    <h3>Waste</h3>
    <%= form.simple_fields_for :manifest_items do |manifest_item| %>
      <%= manifest_item.input :hazardous_material, label: 'This shipment contains hazardous material (9a)', as: :select, collection: ['True', 'False']  %>
      <%= manifest_item.input :hazard_classes, label: 'Comma separated hazard classes (9b)' %>
      <%= manifest_item.input :proper_shipping_name, label: 'Proper shipping name (9b)' %>
      <%= manifest_item.input :id_number, label: 'ID number (9b)' %>
      <%= manifest_item.input :packing_group, label: 'Packing group (9b)' %>
      <%= manifest_item.input :number_of_containers, label: 'Number of containers (10)' %>
      <%= manifest_item.input :container_type, as: :select, collection: container_types, label: 'Container type (10)' %>
      <%= manifest_item.input :unit_wt_vol, label: 'Unit Wt./Vl. (11)' %>
      <%= manifest_item.input :total_quantity, label: 'Total quantity for the listed unit of measure (11)' %>
      <%= manifest_item.input :unit_wt_bol, as: :select, collection: units_of_measure, label: 'Unit Wt./Vol. (12)' %>
      <%= manifest_item.input :epa_waste_codes, label: 'Comma separated list of federal waste codes (13)' %>
      <%= manifest_item.input :state_waste_codes, label: 'Comma separated list of state and other waste codes (13)' %>
    <% end %>

    <h3>Other</h3>
    <%= form.input :waste_pcb_description, label: 'PCB description (14)' %>
    <%= form.input :waste_handling_instructions, label: 'Special handling instructions and additional information (14)' %>

  <h3>International</h3>
    <%= form.simple_fields_for :international_shipment do |shipment| %>
      <%= shipment.input :export_input, label: 'Import/Export (16)', as: :select, collection: import_options %>
      <%= label_tag 'Date leaving U.S. (16)' %>
      <%= date_field_tag 'date_leaving_us', nil, name: "manifest[international_shipment][date_leaving_us]" %>
      <%= shipment.simple_fields_for :port_of_entry_exit do |port| %>
        <%= port.input :city, label: 'City of Entry/Exit (16)' %>
        <%= port.input :state, label: 'State of Entry/Exit (16)', collection: us_states %>
      <% end %>
    <% end %>


    <%= form.submit 'Continue' %>
  <% end %>
</div>
